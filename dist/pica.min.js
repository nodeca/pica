/* pica 1.0.1 nodeca/pica */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.pica=t()}}(function(){return function t(e,r,n){function i(a,f){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var h=r[a]={exports:{}};e[a][0].call(h.exports,function(t){var r=e[a][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({"./":[function(t,e,r){"use strict";function n(t){return Object.prototype.toString.call(t)}function i(t){return"[object Function]"===n(t)}function o(e,n){var i,o={src:e.src,dest:e.dest,width:0|e.width,height:0|e.height,toWidth:0|e.toWidth,toHeight:0|e.toHeight,quality:e.quality,alpha:e.alpha};if(f&&r.WW)try{i=t("webworkify")(c)}catch(a){}i?(i.onmessage=function(t){var r,o,a=e.dest,f=t.data.output;if(a)if(a.set)a.set(f);else for(r=0,o=f.length;o>r;r++)a[r]=f[r];n(t.data.err,f),i.terminate()},i.postMessage(o)):h(o,n)}function a(t,e,r,n){var a=t.width,f=t.height,u=e.width,s=e.height;i(r)&&(n=r,r={}),isNaN(r)||(r={quality:r,alpha:!1});var h=e.getContext("2d"),c=h.getImageData(0,0,u,s),l={src:t.getContext("2d").getImageData(0,0,a,f).data,dest:c.data,width:t.width,height:t.height,toWidth:e.width,toHeight:e.height,quality:r.quality,alpha:r.alpha};o(l,function(t){return t?void n(t):(h.putImageData(c,0,0),void n())})}var f="undefined"!=typeof window&&"Worker"in window;if(f)try{var u=t("webworkify")(function(){});u.terminate()}catch(s){f=!1}var h=t("./lib/resize"),c=t("./lib/resize_worker");r.resizeBuffer=o,r.resizeCanvas=a,r.WW=f},{"./lib/resize":2,"./lib/resize_worker":3,webworkify:4}],1:[function(t,e){"use strict";function r(t){return 0>t?0:t>255?255:t}function n(t){return Math.floor(t*s)}function i(t,e,r){var i,o,a,f,u,s,c,l,d,p,w,g,v,y,M,m,b,x=h[t].filter,q=r/e,k=1/q,z=Math.min(1,q),W=h[t].win/z,j=Math.floor(2*(W+1)),I=new Int16Array((j+2)*r),O=0;for(i=0;r>i;i++){for(o=(i+.5)*k,a=Math.max(0,Math.floor(o-W)),f=Math.min(e-1,Math.ceil(o+W)),u=f-a+1,s=new Float32Array(u),c=new Int16Array(u),l=0,p=a,w=0;f>=p;p++,w++)g=x((p+.5-o)*z),l+=g,s[w]=g;for(d=0,w=0;w<s.length;w++)v=n(s[w]/l),d+=v,c[w]=v;for(c[r>>1]+=n(1)-d,y=0;y<c.length&&0===c[y];)y++;if(y<c.length){for(M=c.length-1;M>0&&0===c[M];)M--;m=a+y,b=M-y+1,I[O++]=m,I[O++]=b,I.set(c.subarray(y,M+1),O),O+=b}else I[O++]=0,I[O++]=0}return I}function o(t,e,n,i,o,a,f){var s,h,c,l,d,p,w,g,v,y,M,m=0,b=0;for(v=0;i>v;v++){for(d=0,y=0;o>y;y++){for(p=f[d++],w=f[d++],g=m+4*p|0,s=h=c=l=0;w>0;w--)M=f[d++],s=s+M*t[g++]|0,h=h+M*t[g++]|0,c=c+M*t[g++]|0,l=l+M*t[g++]|0;e[b++]=r((0|s)>>u),e[b++]=r((0|h)>>u),e[b++]=r((0|c)>>u),e[b++]=r((0|l)>>u)}m+=4*n}}function a(t,e,n,i,o,a,f,s){var h,c,l,d,p,w,g,v,y,M,m,b=0,x=0;for(y=0;o>y;y++){for(p=0,M=0;a>M;M++){for(w=f[p++],g=f[p++],v=b+w*o*4|0,h=c=l=d=0;g>0;g--)m=f[p++],h=h+m*t[v++]|0,c=c+m*t[v++]|0,l=l+m*t[v++]|0,s&&(d=d+m*t[v]|0),v+=4*o-3;e[x++]=r((0|h)>>u),e[x++]=r((0|c)>>u),e[x++]=r((0|l)>>u),s?(h>d&&(d=h),c>d&&(d=c),l>d&&(d=l),e[x]=r((0|d)>>u)):e[x]=255,x+=4*o-3}b+=4,x=b}}function f(t){var e=t.src,r=t.width,n=t.height,f=t.toWidth,u=t.toHeight,s=t.dest||new Uint8Array(f*u*4),h=void 0===t.quality?3:t.quality,c=t.alpha||!1;if(1>r||1>n||1>f||1>u)return[];var l=i(h,r,f),d=i(h,n,u),p=new Uint8Array(f*n*4);return o(e,p,r,n,f,u,l),a(p,s,f,n,f,u,d,c),s}var u=14,s=1<<u,h=[{win:.5,filter:function(t){return t>=-.5&&.5>t?1:0}},{win:1,filter:function(t){if(-1>=t||t>=1)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var e=t*Math.PI;return Math.sin(e)/e*(.54+.46*Math.cos(e/1))}},{win:2,filter:function(t){if(-2>=t||t>=2)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/2)/(e/2)}},{win:3,filter:function(t){if(-3>=t||t>=3)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/3)/(e/3)}}];e.exports=f},{}],2:[function(t,e){"use strict";var r=t("./pure/resize");e.exports=function(t,e){var n=r(t);e(null,n)}},{"./pure/resize":1}],3:[function(t,e){"use strict";e.exports=function(e){var r=t("./resize");e.onmessage=function(t){r(t.data,function(t,r){return t?void e.postMessage({err:t}):void e.postMessage({output:r})})}}},{"./resize":2}],4:[function(t,e){var r=arguments[3],n=arguments[4],i=arguments[5],o=JSON.stringify;e.exports=function(t){for(var e,a=Object.keys(i),f=0,u=a.length;u>f;f++){var s=a[f];if(i[s].exports===t){e=s;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},f=0,u=a.length;u>f;f++){var s=a[f];h[s]=s}n[e]=[Function(["require","module","exports"],"("+t+")(self)"),h]}var c=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[e]=e,n[c]=[Function(["require"],"require("+o(e)+")(self)"),l];var d="("+r+")({"+Object.keys(n).map(function(t){return o(t)+":["+n[t][0]+","+o(n[t][1])+"]"}).join(",")+"},{},["+o(c)+"])";return new Worker(window.URL.createObjectURL(new Blob([d],{type:"text/javascript"})))}},{}]},{},[])("./")});